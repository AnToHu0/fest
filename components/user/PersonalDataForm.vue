<script setup lang="ts">
defineProps<{
  lastName: string;
  firstName: string;
  middleName: string;
}>();

// Получаем текущую дату в формате "DD месяц YYYY года"
const currentDate = new Date();
const day = currentDate.getDate();
const month = new Intl.DateTimeFormat('ru-RU', { month: 'long' }).format(currentDate);
const year = currentDate.getFullYear();
const formattedDate = `«${day}» ${month} ${year} года`;
</script>

<template>
  <div class="pd-form-container">
    <div class="print-controls">
      <button @click="window.print()" class="print-button">
        <Icon name="mdi:printer" class="icon" /> Печать
      </button>
    </div>
    
    <div class="pd-form">
      <h1>Согласие на обработку персональных данных</h1>
      <p class="date">г. Симферополь&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ formattedDate }}</p>

      <p>Подписывая данный документ,</p>
      <p class="personal-info">
        Фамилия: <span class="underline">{{ lastName }}</span><br>
        Имя: <span class="underline">{{ firstName }}</span><br>
        Отчество: <span class="underline">{{ middleName }}</span>
      </p>

      <p>(в дальнейшем именуемый «Участник»), действует по своей волей и в своем интересе, предоставляет свое согласие на обработку организатору вайшнавских мероприятий в Крыму гр. Мунтян Евгению Владимировичу, (в дальнейшем именуемому «Организатор») (включая получение от и/или от любых третьих лиц, с учетом требований действующего законодательства Российской Федерации) персональных данных.</p>

      <ol>
        <li>Подписывая данный документ, Участник дает согласие на обработку своих Персональных данных, принятия решений или совершения иных действий, порождающих юридические последствия в отношении Участника фестиваля или других лиц и распространяется на следующую информацию: фамилия, имя, отчество, год, месяц, дата и место рождения, адрес, семейное, социальное, имущественное положение, образование, профессия, доходы, сведения, которые характеризуют физиологические особенности человека и на основе которых можно установить его личность (биометрические персональные данные) и любая иная информация, относящаяся к личности Участника, доступная либо известная в любой конкретный момент времени ("Персональные данные"). Использование и хранение биометрических персональных данных вне информационных систем персональных данных могут осуществляться только на таких материальных носителях информации и с применением такой технологии ее хранения, которые обеспечивают защиту этих данных от неправомерного или случайного доступа к ним, уничтожения, изменения, блокирования, копирования, распространения.</li>
        <li>Подписывая данный документ, Участник дает согласие на обработку своих Персональных данных Организатором до истечения сроков хранения соответствующей информации или документов, содержащих вышеуказанную информацию, определяемых в соответствии с законодательством Российской Федерации, после чего может быть отозвано путем направления Организатору соответствующего письменного уведомления Участником, не менее чем за 3 (три) месяца до момента отзыва согласия.</li>
        <li>Подписывая данный документ, Участник дает согласие на обработку своих Персональных данных, в том числе на осуществление любых действий в отношении персональных данных Участника, которые необходимы или желаемы для организации и проведения различных культурных, религиозных и других мероприятий, включая, без ограничения: сбор, систематизацию, накопление, хранение, уточнение (обновление, изменение), использование, распространение (в том числе передача), обезличивание, блокирование, уничтожение, Персональных данных, а также осуществление любых иных действий с Персональными данными Участника фестиваля с учетом действующего законодательства.</li>
        <li>Заключая настоящее соглашение, Участник дает согласие на обработку своих Персональных данных Организатором с применением следующих основных способов (но, не ограничиваясь ими): автоматизированная обработка, обработка без использования средств автоматизации, хранение, запись на электронные носители и их хранение, составление перечней, ведение баз данных, маркировка.</li>
        <li>Подписывая данный документ, Участник также обязуется не разглашать сведения, содержащие персональные данные Организатора или прочих Участников ставшие ему известными в результате исполнения настоящего Договора. Участник предупрежден об ответственности за разглашение указанных сведений.</li>
      </ol>

      <p class="signature">Подпись ____________________</p>
    </div>
  </div>
</template>

<style scoped>
.pd-form-container {
  padding: 10px;
  max-width: 800px;
  margin: 0 auto;
  font-family: Arial, sans-serif;
}

.print-controls {
  margin-bottom: 10px;
  text-align: right;
}

.print-button {
  display: inline-flex;
  align-items: center;
  padding: 8px 16px;
  background-color: #4f46e5;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
}

.print-button .icon {
  margin-right: 8px;
}

.pd-form {
  background-color: white;
  padding: 20px;
  border: 1px solid #e5e7eb;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
  font-size: 12px;
  line-height: 1.3;
}

h1 {
  text-align: center;
  font-size: 16px;
  margin-bottom: 10px;
}

.date {
  text-align: center;
  margin-bottom: 15px;
}

.personal-info {
  margin: 10px 0;
  line-height: 1.5;
}

.underline {
  text-decoration: none;
  border-bottom: 1px solid black;
  padding-bottom: 1px;
  font-weight: bold;
}

ol {
  margin: 10px 0;
  padding-left: 20px;
}

li {
  margin-bottom: 8px;
  text-align: justify;
}

.signature {
  margin-top: 20px;
}

@media print {
  .print-controls {
    display: none;
  }
  
  .pd-form {
    box-shadow: none;
    border: none;
    padding: 0;
  }
  
  @page {
    size: A4;
    margin: 1cm;
  }
  
  body {
    font-size: 10pt;
  }
  
  h1 {
    font-size: 14pt;
  }
  
  li {
    margin-bottom: 6px;
  }
}
</style> 