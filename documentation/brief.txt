Привет, я сейчас пишу веб-приложение для регистрации и управления пользователями на фестивале.
Подразумевается следующий функционал:
- регистрация пользователей(пользователь может зарегистрироваться самостоятельно, либо администратор может зарегистрировать пользователя)
- авторизация пользователей с подтверждением по email
- сброс пароля по email
- управление пользователями (добавление, удаление, изменение со стороны администратора)
- просмотр списка пользователей
- просмотр информации о пользователе

Приложение будет содержать следующие сущности:
- Профиль пользователя
  - Фамилия Имя и Отчество в отдельных полях, которые сохраняются в одном поле "ФИО"
  - Духовное имя - опциональное поле
  - дата рождения
  - Почта
  - галочка подвтерждения почты(без подтверждения почты пользователь считается неактивным)
  - телефон с маской ввода
  - пароль и подтверждение пароля на форме регистрации
  - булевое поле о наличии детей, если это поле истинно, то появляется поле для ввода количества детей, дети являются отдельными пользователями, но привязаны к родителю, каждый ребёнок добавляется во всплывающем окне.
  - галочка о согласии на обработку персональных данных
  - у пользователя может быть несколько ролей, которые определяются в админ-панели, роли:
    - администратор
    - начальник департамента
    - ответственный за расселение

- Запись пользователя на фестиваль
  - айди пользователя
  - айди фестиваля
  - даты заезда и отъезда со временем
  - запись на служение в одном из департаментов
  - текстовое поле для замечаний

- Комнаты для размещения
  - номер корпуса
  - этаж
  - номер комнаты
  - количество мест
  - описание

- Фестиваль
  - дата начала
  - дата окончания
  - флаг актуальный ли это фестиваль
  - список доступных корпусов
  - текст анонса и приглашения
  - год проведения

- Платежи
  - айди пользователя
  - айди администратора, принимающего платеж
  - айди фестиваля
  - сумма платежа
  - дата платежа
  - способ оплаты
  - назначение платежа

- Департаменты
  - название
  - описание
  - список айди глав департамента
  - показывать ли департамент на сайте

- Размещение на фестивале
  - айди пользователя
  - айди администратора, разместившего пользователя
  - айди слота(в каждой комнате может несколько койко-мест, слот определяется по времени заезда и отъезда)
  - айди комнаты
  - дата и время заезда
  - дата и время отъезда
  - текст замечаний
  - типа размещения(забронировано, оплачено, расселено, спец-гость)

Флоу приложения:

- Пользователь:
1. Пользователь заходит на сайт
2. проходит регистрацию(только данные пользователя, без регистрации на фестиваль)
3. подтверждает почту
4. авторизуется на сайте и попадает в личный кабинет
5. Там есть раздел с прошедшими фестивалями, где он может посмотреть свои записи и оплаты и карточка анонса текущего фестиваля(если он ещё не прошел) с кнопкой записаться
6. При нажатии на кнопку появляется форма с записью на фестиваль, где он должен заполнить поля для объекта "Запись пользователя на фестиваль"
7. После заполнения формы, он видит сообщение об успешной записи. И может вернуться в личный кабинет.
8. В личном кабинете в разделе с актуальным фестивалем можно посмотреть свои данные, без возможности их изменить и отдельно список оплат с назначением и датой.
9. Дополнительно: Если пользователь забыл пароль, то может на странице авторизации вызвать форму сброса пароля.

- Администратор:
1. Может деать всё то-же, что и пользователь.
2. в личном кабинете есть раздел управление пользователями.
3. есть раздел управления фестивалями.
4. есть раздел управления корпусами для размещения
5. есть раздел управления размещениями для текущего фестиваля.
6. Есть раздел управления департаментами.

- менеджер расселения:
1. Может деать всё то-же, что и пользователь.
2. как и у администатора есть раздел управления размещениями для текущего фестиваля.
3. как и у администратора есть раздел управления пользователями.

UI приложения:
- Все страницы, доступные обычным пользователям могут быть на русском и английском языке с переключателем, переключение происходит без перезагрузки страницы.
- Главная страница
  - большое лого по середине из картинки https://kvf.ramana-reti.ru/img/logo.png
  - форма авторизации, если пользователь не авторизован
    - в форме есть кнопка "Зарегистрироваться" переходящая на форму регистрации
      после успешной регистрации пользователь получает письмо и в форме появляется надпись "Пожалуйста подтвердите свою почту"
    - в форме есть кнопка "Восстановить пароль" переходящая на форму сброса пароля
  - если авторизван, то сразу происходит перенаправление на личный кабинет

- Личный кабинет
  - для разных пользователей доступны разные разделы лк
    - администратор видит все разделы
    - менеджер расселения видит все разделы, согласно своей роли
    - пользователь видит только разделы "личные данные", "Актуальный фестиваль" и "Прошедшие фестивали"
      - в разделе "личные данные" есть возможность изменить свои данные, а также сменить пароль
      - остальные разделы идут согласно роли пользователя, в-основном это формы для заполнения и просмотра данных
  - Описание разделов лк:
    - "личные данные"
      - в этом разделе есть форма для заполнения и просмотра данных, относящихся непосредственно к пользователю
      - в форме есть кнопка "сохранить"
      - в форме есть кнопка "сменить пароль"
      - если у пользователя есть дети, то они отображаются в виде списка, с возможностью добавить нового ребёнка и отредактировать или удалить существующего.
    - Раздел "Фестивали"
      - список всех фестивалей, актуальный фестиваль, если есть, отображается сверху, т.е. фестивали упорядочены по годам проведения.
      - при нажатии на фестиваль открывается карточка фестиваля с возможностью записаться на него, если это актуальный фестиваль и просто просмотр анонса и приглашения, если фестиваль прошёл.
        - форма регистрации на актуальном фестивале содержит все необходимые поля для заполнения, а также кнопку "записаться". Пользователь может записаться сам и выбрать кого из детей он хочет записать.
        - если пользователь уже зарегистрировался на фестиваль, то в карточке фестиваля отображается анонс, его данные и список оплат за этот конкретный фестиваль.
      - если пользователь админ, то он может создать новый фестиваль, а также просматривать и изменять существующие.
        - провалившись в карточку фестиваля, админ видит вкладку "Пользователи", "оплаты", и "Настройки"
          - вкладка "Пользователи" содержит таблицу с пользователями, которые записались на фестиваль с возможностью редактировать их данные, а так-же создавать записи платежей для каждого пользователя.
          - вкладка "Оплаты" содержит таблицу с оплаты, которые были сделаны на фестиваль, в заголовке страницы отображается сумма всех оплат за этот конкретный фестиваль.
          - вкладка "Настройки" содержит поля для изменения настроек фестиваля.
          - для фестивалей, чей статус "прошедщий", можно только смотреть данные по пользователям и платежам, настройки можно менять, например можно поменять описание и флаг "актуальный"
    - Раздел "управление пользователями"
      - находится таблица с пользователями, с возможностью редактировать их данные, а так-же создавать записи платежей для каждого пользователя. Кроме этого, для каждого пользователя отображается список фестивалей, на которых записан пользователь.
      - админ может редактировать любые поля пользователей, а так-же назначать пользователям роли.
    - Раздел "управление корпусами"
      - находится таблица с корпусами, с возможностью редактировать их данные, а так-же создавать новые. Надо учесть, что объект "корпус" у нас виртуальный, корпуса вычисляются из комнат, которые к ним относятся. Поэтому при создании корпуса, надо будет указать какие комнаты к нему относятся. Т.е. при нажатии на создать корпус появляется форма с полями для ввода названия корпуса и списком комнат, которые относятся к этому корпусу. И когда все комнаты заполнены, надо будет нажать кнопку "сохранить". Т.о. в базе сохраняются только комнаты, а корпуса вычисляются из них.
    - Раздел "управление департаментами"
      - находится таблица с департаментами, с возможностью редактировать их данные, а так-же создавать новые и назначать одного или нескольких глав департамента.
    - Раздел "управление расселением"
      - это самый сложный раздел. Тут должен быть таймлайн с датами фестиваля, каждая комната разбивается на строки согласно количеству мест, каждая строка представляет таймлайн для одного койко-места. Т.к. таблица с комнатами большая, нужны фильтры по корпусу, этажу, номеру комнаты, имени расселённого пользователя так-же можно отображать только расселённые комнаты или только пустые, комната считается расселённой, если в ней есть хотя-бы одно расселение.
      - в каждой строке таймлайна при наведении появляется иконка создания размещения для этого койко-места.
      - при нажатии на иконку появляется форма для создания размещения, где надо будет выбрать пользователя(пользователь выбирается из списка пользователей, которые записались на фестиваль), дату заезда, дату отъезда, примечание, а так-же сразу завести оплату за размещение.
        - если место ещё не оплачено, то статус стоит "забронировано", если оплачено, то "оплачено", если расселено, то "расселено", если спец-гость, то "спец-гость".
        - менеджер расселения может менять статус размещения и менять все данные.
        - так-же менеджер расселения, после заполнения всех данных может нажать кнопку "распечатать" и получить документ с размещением(это будет всплывающее окно со всеми данными о расселении).
      
