# UI - Описание дизайна

## Главная страница
- Большое лого по середине из картинки [лого](https://kvf.ramana-reti.ru/img/logo.png)
- Форма авторизации, если пользователь не авторизован
  - В форме есть кнопка "Зарегистрироваться" переходящая на форму регистрации
    - После успешной регистрации пользователь получает письмо и видит окно "Регистрация прошла успешно, Пожалуйста подтвердите свою почту"
  - В форме есть кнопка "Восстановить пароль" переходящая на форму сброса пароля
- Если авторизован, то сразу происходит перенаправление на личный кабинет

## Личный кабинет
- Для разных пользователей доступны разные разделы ЛК
  - Администратор видит все разделы и может настраивать видимость полей для регистратора
  - Менеджер расселения видит все разделы, согласно своей роли
  - Пользователь видит только разделы "личные данные", "Актуальный фестиваль" и "Прошедшие фестивали"
    - В разделе "личные данные" есть возможность изменить свои данные, а также сменить пароль
    - Остальные разделы идут согласно роли пользователя, в-основном это формы для заполнения и просмотра данных

## Описание разделов ЛК
- "Личные данные"
  - В этом разделе есть форма для заполнения и просмотра данных, относящихся непосредственно к пользователю, с отдельными полями для Фамилии, Имени и Отчества
  - Для даты рождения должен быть интуитивно понятный выбор года
  - В форме есть кнопка "сохранить"
  - В форме есть кнопка "сменить пароль"
  - Если у пользователя есть дети, то они отображаются в виде списка, с возможностью добавить нового ребёнка и отредактировать или удалить существующего
  - Если пользователь ребёнок, то нужно поле для указания, требуется ли дополнительная кровать или спит с родителем
  - Поле для указания города, откуда приезжает пользователь
- Раздел "Фестивали"
  - Список всех фестивалей, актуальный фестиваль, если есть, отображается сверху, т.е. фестивали упорядочены по годам проведения.
  - При нажатии на фестиваль открывается карточка фестиваля с возможностью записаться на него, если это актуальный фестиваль и просто просмотр анонса и приглашения, если фестиваль прошёл.
    - Форма регистрации на актуальном фестивале содержит все необходимые поля для заполнения, а также кнопку "записаться". Пользователь может записаться сам и выбрать кого из детей он хочет записать.
    - Форма содержит поле для указания информации о приезде на автомобиле, количестве свободных мест
    - Перед записью в департамент отображается информационное окно с вдохновляющим текстом
    - Если пользователь уже зарегистрировался на фестиваль, то в карточке фестиваля отображается анонс, его данные и список оплат за этот конкретный фестиваль.
  - Если пользователь админ, то он может создать новый фестиваль, а также просматривать и изменять существующие.
    - Провалившись в карточку фестиваля, админ видит вкладку "Пользователи", "оплаты", и "Настройки"
      - Вкладка "Пользователи" содержит таблицу с пользователями, которые записались на фестиваль с возможностью редактировать их данные, а так-же создавать записи платежей для каждого пользователя.
      - Вкладка "Оплаты" содержит таблицу с оплаты, которые были сделаны на фестиваль, в заголовке страницы отображается сумма всех оплат за этот конкретный фестиваль.
      - Вкладка "Настройки" содержит поля для изменения настроек фестиваля.
      - Для фестивалей, чей статус "прошедщий", можно только смотреть данные по пользователям и платежам, настройки можно менять, например можно поменять описание и флаг "актуальный"
- Раздел "управление пользователями"
  - Находится таблица с пользователями, с возможностью редактировать их данные, а так-же создавать записи платежей для каждого пользователя. Кроме этого, для каждого пользователя отображается список фестивалей, на которых записан пользователь.
  - Админ может редактировать любые поля пользователей, а так-же назначать пользователям роли.
  - Поиск задвоенностей по ФИО и по телефону с подсветкой
  - Наглядность оплат - регистратор и менеджер по расселению видят, какую сумму внес человек на пожертвование, машину, животное и на проживание
  - Таблицу можно фильтровать по всем полям пользователя.
- Раздел "управление корпусами"
  - Находится таблица с корпусами, с возможностью редактировать их данные, а так-же создавать новые. Надо учесть, что объект "корпус" у нас виртуальный, корпуса вычисляются из комнат, которые к ним относятся. Поэтому при создании корпуса, надо будет указать какие комнаты к нему относятся. Т.е. при нажатии на создать корпус появляется форма с полями для ввода названия корпуса и списком комнат, которые относятся к этому корпусу. И когда все комнаты заполнены, надо будет нажать кнопку "сохранить". Т.о. в базе сохраняются только комнаты, а корпуса вычисляются из них.
- Раздел "управление департаментами"
  - Находится таблица с департаментами, с возможностью редактировать их данные, а так-же создавать новые и назначать одного или нескольких глав департамента.
- Раздел "управление расселением"
  - Это самый сложный раздел. Тут должен быть таймлайн с датами фестиваля, каждая комната разбивается на строки согласно количеству мест, каждая строка представляет таймлайн для одного койко-места. Т.к. таблица с комнатами большая, нужны фильтры по корпусу, этажу, номеру комнаты, имени расселённого пользователя так-же можно отображать только расселённые комнаты или только пустые, комната считается расселённой, если в ней есть хотя-бы одно расселение.
  - В каждой строке таймлайна при наведении появляется иконка создания размещения для этого койко-места.
  - При нажатии на иконку появляется форма для создания размещения, где надо будет выбрать пользователя (пользователь выбирается из списка пользователей, которые записались на фестиваль), дату заезда, дату отъезда, примечание, а так-же сразу завести оплату за размещение.
    - Если место ещё не оплачено, то статус стоит "забронировано", если оплачено, то "оплачено", если расселено, то "расселено", если спец-гость, то "спец-гость".
    - Менеджер расселения может менять статус размещения и менять все данные.
    - Возможность менять статус для ребенка, подростка и взрослого (расселен/оплачен/бронь)
    - Возможность печати инфолиста независимо от статуса
    - Автоматический расчет стоимости за проживание с возможностью корректировки
    - Печать информационного листа включает: ФИО, дату рождения, возраст, информацию о ребенке, дополнительной кровати, количестве койко-дней, цену и сумму, даты заезда и выезда, информацию о машине и количестве дней, корпус, номер

## Дополнительные сведения

- Все страницы, доступные обычным пользователям могут быть на русском и английском языке с переключателем, переключение происходит без перезагрузки страницы.
- Проверка работы на смартфонах и планшетах